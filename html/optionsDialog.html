<div id="dialogOverlay"></div>
<div id="optionsDialog">
     <!-- Add the "X" button -->
     <button id="closeXButton" title="Close" style="position: absolute;top: 0px; right: 5px; background: none; border: none;font-size: 22px;cursor: pointer;">&times;</button>
     <form method="dialog">
        <div>
           <input type="checkbox" id="cksbFrequency" name="cksbFrequency" title="Switch modes to LSB/USB by frequency < or > than 10 MHz">
           <label for="cksbFrequency">Switch Modes by Frequency</label>
        </div>
            <div style="margin-top: 5px; display:flex; align-items:center; gap:23px;">
                <div>
                   <input type="checkbox" id="ckonlyAutoscaleButton" name="ckonlyAutoscaleButton" title="Only Autoscale when Autoscale Button is pressed">
                   <label for="ckonlyAutoscaleButton">Autoscale, manual only</label>
                </div>
                <div>
                   <input type="checkbox" id="ckShowBandEdges" name="ckShowBandEdges" title="Show or hide ham band edge markers" onchange="setShowBandEdges(this.checked)">
                   <label for="ckShowBandEdges">Show Band Edges</label>
                </div>
            </div>
        <div style="margin-top: 5px;">
           <input type="checkbox" id="ckAnalogSMeter" name="ckAnalogSMeter" onchange="setAnalogMeterVisible(this.checked)" title="Show or hide the analog S meter">
           <label for="ckAnalogSMeter">Enable Analog S Meter</label>
           <input type="checkbox" id="ckNoSpectrumFill" name="ckNoSpectrumFill" style="margin-left: 20px;" title="Draw spectrum as a line without filling below">
           <label for="ckNoSpectrumFill">No Spectrum Fill</label>
        </div>
        <div style="margin-top: 5px; display: flex; align-items: center;gap: 16px;">
           <div>
             <label for="colormap">Colormap:</label>
             <select name="colormap" id="colormap" onchange="spectrum.setColormap(this.value)" title="Colormap to use for spectrum and waterfall">
                <option value="0">turbo</option>
                <option value="1">fosphorz</option>
                <option value="2">viridis</option>
                <option value="3">inferno</option>
                <option value="4">magma</option>
                <option value="5">jet</option>
                <option value="6">binary</option>
                <option value="7">blue</option>
                <option value="8">short</option>
                <option value="9">kiwi</option>
             </select>
           </div>
           <div>
             <label for="waterfallSkipInput">Waterfall skip lines (0-3):</label>
             <input
                type="number"
                id="waterfallSkipInput"
                min="0"
                max="3"
                value="0"
                style="width: 35px;"
                title="Increase this value to slow the waterfall by skipping lines. 0 = no skipping, 3 = slowest."
                onchange="setSkipWaterfallLines(this.value)">
           </div>
        </div>
   <div style="font-size:12px;margin-top:5px; display:flex; align-items:center; gap:4px;">
    <button id="reset" style="font-size:12px; padding:2px 4px; min-width:0; min-height:0; height:24px" title="Reset settings to default (export your memories first as they will be lost)" onclick="resetSettings()">Reset</button>
    <button id="csv_out" style="font-size:12px; padding:2px 4px; min-width:0; min-height:0; height:24px;" title="Write Info and/or start/stop periodic info export">Write</button>
   <input type="number" id="csvMinuteInput" min="0" value="0" style="width:38px; font-size:12px; margin-left:2px;" title="Enter minutes for periodic Write Info. 0 = off.">
   <!-- Spectrum poll input (milliseconds) and send button -->
   <button type="button" id="spectrumPollButton" style="font-size:12px; padding:2px 4px; height:24px; margin-left:2px;" onclick="sendSpectrumPoll()" title="Send spectrum poll interval to server">Poll</button>
   <input type="number" id="spectrumPollInput" min="30" max="2000" step="10" value="100" style="width:50px; font-size:12px; margin-left:2px;" title="Spectrum poll interval in milliseconds (30-200 ms)">
      <input type="number" id="waterfallBiasInput" step="1" inputmode="numeric" title="Waterfall bias amount, decrease to lighten waterfall background. Default value 5" style="width:48px; font-size:12px; margin-left:6px;" onchange="setWaterfallBias(this.value)" />
      <input type="number" id="cw_lower_input" step="1" inputmode="numeric" title="QuickBW lower offset (Hz)" style="width:48px; font-size:12px; margin-left:6px;" />
      <input type="number" id="cw_upper_input" step="1" inputmode="numeric" title="QuickBW upper offset (Hz)" style="width:48px; font-size:12px; margin-left:2px;" />
   </div>
         <div style="font-size:12px;margin-top:5px">
         <button type="button" style="font-size:12px; padding:2px 4px; min-width:0; min-height:0; height:24px" id="ExportMax" title="Export Max Hold as CSV File" onclick="spectrum.exportMaxHoldCSV()">Export Max</button>
         <button type="button" style="font-size:12px; padding:2px 4px; min-width:0; min-height:0; height:24px; margin-top:4px;" id="ExportData" title="Export current spectrum data as CSV File" onclick="spectrum.exportCSV()">Export Data</button>
         <button type="button" style="font-size:12px; padding:2px 4px; min-width:0; min-height:0; height:24px; margin-top:4px;" id="ExportMin" title="Export Min Hold as CSV File" onclick="spectrum.exportMinHoldCSV()">Export Min</button>
         <button id="load_max" type="button" style="font-size:12px; padding:2px 4px; min-width:0; min-height:0; height:24px; margin-top:4px;" title="Load and display max, min or spectrum data">Load Data</button>
         <button id="clear_overlay" type="button" style="font-size:12px; padding:2px 4px; min-width:0; min-height:0; height:24px; margin-top:4px; margin-left:4px;" title="Clear loaded overlay trace">Clear</button>
         <button type="button" id="cw_save_button" style="font-size:12px; padding:2px 6px; min-width:0; min-height:0; height:24px; margin-top:4px; margin-left:6px;" title="Save QuickBW offsets">Save QuickBW</button>
      </div>
      <div style="margin-top:8px; display:flex; align-items:center; gap:8px;">
         <label for="windowTypeSelect" style="font-size:12px; margin-right:6px;">Window Type:</label>
         <select id="windowTypeSelect" title="FFT Window Type" style="font-size:12px; width:135px;">
            <option value="KAISER_WINDOW">KAISER</option>
            <option value="RECT_WINDOW">RECT</option>
            <option value="BLACKMAN_WINDOW">BLACKMAN</option>
            <option value="EXACT_BLACKMAN_WINDOW">EXACT BLACKMAN</option>
            <option value="GAUSSIAN_WINDOW">GAUSSIAN</option>
            <option value="HANN_WINDOW">HANN</option>
            <option value="HAMMING_WINDOW">HAMMING</option>
            <option value="BLACKMAN_HARRIS_WINDOW">BLACKMAN HARRIS</option>
            <option value="HP5FT_WINDOW">HP5FT</option>
            <option value="N_WINDOW">N</option>
         </select>
         <input type="text" id="spectrumShapeInput" placeholder="shape" title="Spectrum shape parameter â€” applicable only to KAISER (beta 0 to 15) and GAUSSIAN (alpha 2.5 to 6). Other windows ignore this value." style="width:48px; font-size:12px; margin-left:6px;">
         <button type="button" id="sendWindowParamButton" title="Send window type and shape to radiod" style="font-size:12px; padding:2px 6px; height:24px; margin-left:6px;" onclick="sendWindowParameter()">SendW</button>
      </div>
     </form>
</div>
   <!-- Script for Show Band Edges moved to radio.js: setShowBandEdges, persistence and initialization are handled centrally in radio.js -->
